<article><style>article{
    max-width: 800px;
    font-size: 12pt;
    font-family: sans-serif;
    margin: 3em auto;
}

article h1{
    text-align: center;
    font-size: 2em;
}

article img{
    margin: 0 auto;
    max-width: 100%;
}

article blockquote{
    border-left: 0.2em solid gray;
    margin-left: 1em;
    padding-left: 1em;
}

article figcaption{
    padding: 0.2em 1em;
    background: #E0E0E0;
}

article code{
    background: #F0F0F0;
    padding: 0 0.1em;
}

article .code-block{
    padding: 0.1em 0.5em;
    overflow-x: auto;
}</style><h1 id="shader images">Shader Images</h1><p>Sometimes it can be useful to generate a texture on the fly using a single, static shader. Trial has specific support to make that easy with the <code>image-renderer</code> and <code>cubemap-renderer</code> classes. Those classes act as standard <code>standalone-shader-entity</code>s, but with a special <code>render</code> method that can be called with a <code>texture</code> instance as the render target. The shader output will then be directly rendered onto that texture.</p><p>Both renderer classes provide two inputs to the fragment shader stage:</p><ul><li><p><code>world_position</code>, the position of the fragment in world space</p></li><li><p><code>uv</code>, the UV coordinate of the texture being rendered to</p></li></ul><p>Additionally, the <code>dynamic-image-renderer</code> class lets you perform the same but with dynamically provided shader code, via <code>dynamic-shader-entity</code>. This is then used to implement the <code>shader-image-generator</code> and the <code>shader-image</code> asset.</p><p>The extra arguments to the <code>shader-image</code> asset are the texture parameters. Thus, to define an asset that implements a shader image, you would do something like this:</p><code style="display:block" class="code-block" data-language="common lisp"><pre>(define-asset (trial brdf-lut) shader-image
    #p&quot;brdf-lut-renderer.glsl&quot;
  :width 512
  :height 512
  :internal-format :rg16
  :min-filter :linear)</pre></code><p>The input file path is, as usual, relative to the pool.</p></article><link rel="stylesheet" href="highlight-lisp.css"><script type="text/javascript" src="highlight-lisp.js"></script><script type="text/javascript">[...document.querySelectorAll('[data-language="common lisp"] pre')].map(HighlightLisp.highlight_element);</script>