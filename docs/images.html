<article><style>article{
    max-width: 800px;
    font-size: 12pt;
    font-family: sans-serif;
    margin: 3em auto;
}

article h1{
    text-align: center;
    font-size: 2em;
}

article img{
    margin: 0 auto;
    max-width: 100%;
}

article blockquote{
    border-left: 0.2em solid gray;
    margin-left: 1em;
    padding-left: 1em;
}

article figcaption{
    padding: 0.2em 1em;
    background: #E0E0E0;
}

article code{
    background: #F0F0F0;
    padding: 0 0.1em;
}

article .code-block{
    padding: 0.1em 0.5em;
    overflow-x: auto;
}</style><h1 id="images">Images</h1><p>In order to load images from files into textures, you can use the <code>image</code> asset. It uses the <code>load-image</code> API to convert its input into a <code>texture</code>. You may also pass any number of arguments to the asset that will be forwarded to the texture construction, as well as the special arguments <code>texture-class</code> to specify another class for the resource, and <code>type</code> to provide a specific input image format type.</p><p>The <code>type</code> will be passed on to <code>load-image</code>, which takes either a keyword of the image type name, a mime-type, or a string that will be converted to the type name for you.</p><p>If you need to dynamically construct image textures from a source, you can also do so via the <code>image-loader</code> without needing to tie the image to an asset.</p><p>Trial also provides a few convenience functions to deal with image data:</p><ul><li><p><code>flip-image-vertically</code><br>Flips the pixels vertically. Some formats provide the data in Y-Down order, while Trial expects texture data to be Y-Up.</p></li><li><p><code>convert-image-data</code><br>Converts the actual pixel data to another format. You should use this if you aren't sure about the format of the input data for whatever reason, but absolutely require a certain type.</p></li><li><p><code>load-image</code><br>Loads the raw image data from a source and returns one or more <code>texture-source</code> instances.<br>The source can be:</p><ul><li><p>A <code>pathname</code></p></li><li><p>A <code>list</code> of sources</p></li><li><p>A <code>texture-source</code> whose <code>pixel-data</code> is treated as the source</p></li><li><p>A <code>memory-region</code></p></li><li><p>An octet-<code>vector</code></p></li></ul><p>Which <code>type</code>s are actually understood by <code>load-image</code> depends on the currently loaded <a class="external-link" href="formats.html">format extensions</a>. Make sure you load the needed extensions, as Trial cannot automatically load them for you, and avoids loading all of them to make things a bit leaner.</p></li><li><p><code>save-image</code><br>Saves the raw image data from one or more <code>texture-source</code>s to a file. The <code>type</code> argument is the same as for <code>load-image</code>. Most format backends will also provide a <code>save-image</code> hook, though not all of them do.</p></li></ul><h2 id="disposing of the input data">Disposing of the input data</h2><p>Some image loaders will return statically allocated pixel data that needs to be manually freed. The <code>image</code> will automatically free this as soon as its associated <code>texture</code> has been loaded. If you manually use the <code>image-loader</code>, it is up to you to call <code>deallocate</code> on the <code>sources</code> of the returned <code>texture</code> when appropriate.</p></article>